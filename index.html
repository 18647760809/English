<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>简洁英语学习工具</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f0f9ff 0%, #e6f7ff 100%);
            color: #2c3e50;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }
        
        header {
            background: #3498db;
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        h1 {
            font-size: 28px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }
        
        h1 i {
            font-size: 32px;
        }
        
        .subtitle {
            font-size: 16px;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .main-content {
            display: flex;
            min-height: 500px;
        }
        
        .input-section {
            flex: 1;
            padding: 25px;
            border-right: 1px solid #eaeaea;
            display: flex;
            flex-direction: column;
        }
        
        .output-section {
            flex: 1;
            padding: 25px;
            background: #f9fbfd;
            display: flex;
            flex-direction: column;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .section-title {
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #3498db;
        }
        
        .section-title i {
            font-size: 22px;
        }
        
        .lang-toggle {
            display: flex;
            background: #f1f5f9;
            border-radius: 30px;
            padding: 5px;
        }
        
        .lang-option {
            padding: 6px 14px;
            border-radius: 30px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .lang-option.active {
            background: #3498db;
            color: white;
        }
        
        textarea {
            width: 100%;
            flex: 1;
            padding: 20px;
            border: 1px solid #e0e6ed;
            border-radius: 12px;
            font-size: 16px;
            line-height: 1.6;
            resize: none;
            outline: none;
            transition: all 0.3s;
        }
        
        textarea:focus {
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        .btn-container {
            display: flex;
            gap: 12px;
            margin-top: 20px;
        }
        
        .btn {
            padding: 12px 24px;
            border-radius: 30px;
            font-weight: 600;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: #3498db;
            color: white;
            flex: 1;
        }
        
        .btn-primary:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: #f1f5f9;
            color: #2c3e50;
        }
        
        .btn-secondary:hover {
            background: #e5ebf1;
        }
        
        .transcript-container {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            background: white;
            border-radius: 12px;
            border: 1px solid #e0e6ed;
        }
        
        .transcript-line {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            border-left: 3px solid transparent;
        }
        
        .transcript-line:hover {
            background: #f8fafd;
        }
        
        .transcript-line.active {
            background: rgba(52, 152, 219, 0.08);
            border-left: 3px solid #3498db;
        }
        
        .transcript-line .text {
            font-size: 17px;
            line-height: 1.6;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .transcript-line .chinese {
            font-size: 15px;
            color: #5a6b82;
            font-style: italic;
            padding-top: 8px;
            border-top: 1px dashed #eaeaea;
        }
        
        .controls-container {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid #e0e6ed;
        }
        
        .controls-header {
            text-align: center;
            margin-bottom: 20px;
            color: #3498db;
            font-size: 18px;
            font-weight: 600;
        }
        
        .control-row {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .control-group {
            flex: 1;
            text-align: center;
            padding: 15px;
            background: #f8fafd;
            border-radius: 12px;
            transition: all 0.3s;
        }
        
        .control-group:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .control-icon {
            width: 60px;
            height: 60px;
            background: #e3f2fd;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 24px;
            color: #3498db;
        }
        
        .control-title {
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 16px;
        }
        
        .control-desc {
            font-size: 14px;
            color: #5a6b82;
        }
        
        .speed-control {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-top: 10px;
        }
        
        .speed-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            border: 2px solid #3498db;
            background: white;
            color: #3498db;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .speed-btn.active {
            background: #3498db;
            color: white;
        }
        
        .playback-controls {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 15px;
        }
        
        .play-btn {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: #3498db;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(52, 152, 219, 0.3);
            border: none;
            font-size: 24px;
        }
        
        .play-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 7px 25px rgba(52, 152, 219, 0.4);
        }
        
        .func-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #f1f5f9;
            color: #3498db;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            font-size: 20px;
        }
        
        .func-btn:hover {
            background: #3498db;
            color: white;
        }
        
        .func-btn.active {
            background: #3498db;
            color: white;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .input-section {
                border-right: none;
                border-bottom: 1px solid #eaeaea;
            }
            
            .control-row {
                flex-wrap: wrap;
            }
            
            .control-group {
                min-width: calc(50% - 15px);
            }
        }
        
        @media (max-width: 480px) {
            .btn-container {
                flex-direction: column;
            }
            
            .control-group {
                min-width: 100%;
            }
            
            .playback-controls {
                gap: 15px;
            }
            
            .play-btn {
                width: 60px;
                height: 60px;
            }
            
            .func-btn {
                width: 45px;
                height: 45px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-language"></i> 简洁英语学习工具</h1>
            <p class="subtitle">输入英文文本，自动翻译，支持点读、复读、倍速播放和中英切换功能</p>
        </header>
        
        <div class="main-content">
            <div class="input-section">
                <div class="section-header">
                    <h3 class="section-title"><i class="fas fa-keyboard"></i> 输入英文文本</h3>
                </div>
                
                <textarea id="englishInput" placeholder="在此粘贴或输入英文文本...">Hello! Learning English can be fun and rewarding. With consistent practice, you'll see improvement over time. Don't be afraid to make mistakes - they're part of the learning process. Try to immerse yourself in the language as much as possible. Listen to podcasts, watch movies, and practice speaking with native speakers whenever you can. Remember, every expert was once a beginner. Keep going and you'll achieve your goals!</textarea>
                
                <div class="btn-container">
                    <button class="btn btn-primary" id="translateBtn">
                        <i class="fas fa-exchange-alt"></i> 翻译文本
                    </button>
                    <button class="btn btn-secondary" id="clearBtn">
                        <i class="fas fa-eraser"></i> 清空
                    </button>
                </div>
            </div>
            
            <div class="output-section">
                <div class="section-header">
                    <h3 class="section-title"><i class="fas fa-book"></i> 学习面板</h3>
                    <div class="lang-toggle">
                        <div class="lang-option active" data-lang="both">中英对照</div>
                        <div class="lang-option" data-lang="en">仅英文</div>
                        <div class="lang-option" data-lang="cn">仅中文</div>
                    </div>
                </div>
                
                <div class="transcript-container" id="transcriptContainer">
                    <div class="transcript-line">
                        <div class="text">Hello! Learning English can be fun and rewarding.</div>
                        <div class="chinese">你好！学习英语可以是有趣且有回报的。</div>
                    </div>
                    <div class="transcript-line">
                        <div class="text">With consistent practice, you'll see improvement over time.</div>
                        <div class="chinese">通过持续的练习，你会随着时间的推移看到进步。</div>
                    </div>
                    <div class="transcript-line">
                        <div class="text">Don't be afraid to make mistakes - they're part of the learning process.</div>
                        <div class="chinese">不要害怕犯错——它们是学习过程的一部分。</div>
                    </div>
                    <div class="transcript-line">
                        <div class="text">Try to immerse yourself in the language as much as possible.</div>
                        <div class="chinese">试着尽可能多地沉浸在语言中。</div>
                    </div>
                    <div class="transcript-line">
                        <div class="text">Listen to podcasts, watch movies, and practice speaking with native speakers whenever you can.</div>
                        <div class="chinese">听播客、看电影，并尽可能多地与母语者练习口语。</div>
                    </div>
                    <div class="transcript-line">
                        <div class="text">Remember, every expert was once a beginner.</div>
                        <div class="chinese">记住，每个专家都曾经是初学者。</div>
                    </div>
                    <div class="transcript-line">
                        <div class="text">Keep going and you'll achieve your goals!</div>
                        <div class="chinese">继续前进，你会实现你的目标！</div>
                    </div>
                </div>
                
                <div class="controls-container">
                    <div class="controls-header">
                        <i class="fas fa-sliders-h"></i> 学习控制面板
                    </div>
                    
                    <div class="control-row">
                        <div class="control-group">
                            <div class="control-icon">
                                <i class="fas fa-tachometer-alt"></i>
                            </div>
                            <div class="control-title">播放速度</div>
                            <div class="control-desc">调整语音播放速度</div>
                            <div class="speed-control">
                                <button class="speed-btn" data-speed="0.5">0.5x</button>
                                <button class="speed-btn" data-speed="0.8">0.8x</button>
                                <button class="speed-btn active" data-speed="1.0">1.0x</button>
                                <button class="speed-btn" data-speed="1.2">1.2x</button>
                                <button class="speed-btn" data-speed="1.5">1.5x</button>
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <div class="control-icon">
                                <i class="fas fa-mouse-pointer"></i>
                            </div>
                            <div class="control-title">点读模式</div>
                            <div class="control-desc">点击句子单独播放</div>
                            <div style="margin-top: 15px;">
                                <button class="btn btn-primary" id="pointReadBtn">
                                    <i class="fas fa-hand-pointer"></i> 启用点读
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="playback-controls">
                        <button class="func-btn" id="repeatBtn" title="复读">
                            <i class="fas fa-redo"></i>
                        </button>
                        <button class="func-btn" id="prevBtn" title="上一句">
                            <i class="fas fa-step-backward"></i>
                        </button>
                        <button class="play-btn" id="playBtn">
                            <i class="fas fa-play"></i>
                        </button>
                        <button class="func-btn" id="nextBtn" title="下一句">
                            <i class="fas fa-step-forward"></i>
                        </button>
                        <button class="func-btn" id="loopBtn" title="循环播放">
                            <i class="fas fa-infinity"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 元素引用
            const englishInput = document.getElementById('englishInput');
            const translateBtn = document.getElementById('translateBtn');
            const clearBtn = document.getElementById('clearBtn');
            const transcriptContainer = document.getElementById('transcriptContainer');
            const langOptions = document.querySelectorAll('.lang-option');
            const speedBtns = document.querySelectorAll('.speed-btn');
            const pointReadBtn = document.getElementById('pointReadBtn');
            const playBtn = document.getElementById('playBtn');
            const repeatBtn = document.getElementById('repeatBtn');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const loopBtn = document.getElementById('loopBtn');
            const transcriptLines = document.querySelectorAll('.transcript-line');
            
            // 当前状态
            let currentLang = 'both';
            let currentSpeed = 1.0;
            let pointReadEnabled = false;
            let isPlaying = false;
            let currentLineIndex = 0;
            
            // 翻译功能（模拟）
            translateBtn.addEventListener('click', function() {
                const englishText = englishInput.value.trim();
                if (!englishText) {
                    alert('请输入英文文本');
                    return;
                }
                
                // 模拟翻译 - 实际应用中应替换为真实翻译API
                const sentences = englishText.split(/(?<=[.!?])\s+/);
                let transcriptHTML = '';
                
                // 示例翻译
                const translations = [
                    "你好！学习英语可以是有趣且有回报的。",
                    "通过持续的练习，你会随着时间的推移看到进步。",
                    "不要害怕犯错——它们是学习过程的一部分。",
                    "试着尽可能多地沉浸在语言中。",
                    "听播客、看电影，并尽可能多地与母语者练习口语。",
                    "记住，每个专家都曾经是初学者。",
                    "继续前进，你会实现你的目标！"
                ];
                
                sentences.forEach((sentence, index) => {
                    const translation = translations[index] || "（翻译文本）";
                    transcriptHTML += `
                        <div class="transcript-line" data-index="${index}">
                            <div class="text">${sentence}</div>
                            <div class="chinese">${translation}</div>
                        </div>
                    `;
                });
                
                transcriptContainer.innerHTML = transcriptHTML;
                
                // 重新绑定事件
                document.querySelectorAll('.transcript-line').forEach(line => {
                    line.addEventListener('click', function() {
                        if (pointReadEnabled) {
                            const index = parseInt(this.dataset.index);
                            currentLineIndex = index;
                            highlightCurrentLine();
                            speakCurrentLine();
                        }
                    });
                });
                
                alert('文本已翻译！');
            });
            
            // 清空功能
            clearBtn.addEventListener('click', function() {
                englishInput.value = '';
                transcriptContainer.innerHTML = '<p class="empty-text">翻译内容将显示在这里...</p>';
            });
            
            // 语言切换
            langOptions.forEach(option => {
                option.addEventListener('click', function() {
                    langOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    currentLang = this.dataset.lang;
                    updateLanguageDisplay();
                });
            });
            
            // 更新语言显示
            function updateLanguageDisplay() {
                transcriptLines.forEach(line => {
                    const text = line.querySelector('.text');
                    const chinese = line.querySelector('.chinese');
                    
                    if (currentLang === 'en') {
                        chinese.style.display = 'none';
                    } else if (currentLang === 'cn') {
                        text.style.display = 'none';
                        chinese.style.display = 'block';
                    } else {
                        text.style.display = 'block';
                        chinese.style.display = 'block';
                    }
                });
            }
            
            // 倍速控制
            speedBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    speedBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentSpeed = parseFloat(this.dataset.speed);
                });
            });
            
            // 点读模式切换
            pointReadBtn.addEventListener('click', function() {
                pointReadEnabled = !pointReadEnabled;
                if (pointReadEnabled) {
                    this.innerHTML = '<i class="fas fa-hand-pointer"></i> 点读已启用';
                    this.style.backgroundColor = '#2ecc71';
                    this.style.color = 'white';
                    
                    // 为每行添加点击事件
                    transcriptLines.forEach((line, index) => {
                        line.dataset.index = index;
                        line.addEventListener('click', function() {
                            currentLineIndex = index;
                            highlightCurrentLine();
                            speakCurrentLine();
                        });
                    });
                } else {
                    this.innerHTML = '<i class="fas fa-hand-pointer"></i> 启用点读';
                    this.style.backgroundColor = '';
                    this.style.color = '';
                    
                    // 移除点击事件
                    transcriptLines.forEach(line => {
                        line.removeEventListener('click', null);
                    });
                }
            });
            
            // 播放控制
            playBtn.addEventListener('click', function() {
                isPlaying = !isPlaying;
                const icon = this.querySelector('i');
                
                if (isPlaying) {
                    icon.classList.remove('fa-play');
                    icon.classList.add('fa-pause');
                    speakCurrentLine();
                } else {
                    icon.classList.remove('fa-pause');
                    icon.classList.add('fa-play');
                    // 在实际应用中停止语音
                }
            });
            
            // 高亮当前行
            function highlightCurrentLine() {
                transcriptLines.forEach(line => line.classList.remove('active'));
                if (transcriptLines[currentLineIndex]) {
                    transcriptLines[currentLineIndex].classList.add('active');
                    transcriptLines[currentLineIndex].scrollIntoView({
                        behavior: 'smooth',
                        block: 'center'
                    });
                }
            }
            
            // 语音合成（模拟）
            function speakCurrentLine() {
                if (transcriptLines[currentLineIndex]) {
                    const text = transcriptLines[currentLineIndex].querySelector('.text').textContent;
                    alert(`播放: "${text}" (速度: ${currentSpeed}x)`);
                    
                    // 在实际应用中，这里应该使用Web Speech API
                    // const utterance = new SpeechSynthesisUtterance(text);
                    // utterance.rate = currentSpeed;
                    // speechSynthesis.speak(utterance);
                }
            }
            
            // 复读功能
            repeatBtn.addEventListener('click', function() {
                if (transcriptLines[currentLineIndex]) {
                    speakCurrentLine();
                }
            });
            
            // 上一句
            prevBtn.addEventListener('click', function() {
                if (currentLineIndex > 0) {
                    currentLineIndex--;
                    highlightCurrentLine();
                    speakCurrentLine();
                }
            });
            
            // 下一句
            nextBtn.addEventListener('click', function() {
                if (currentLineIndex < transcriptLines.length - 1) {
                    currentLineIndex++;
                    highlightCurrentLine();
                    speakCurrentLine();
                }
            });
            
            // 循环播放
            loopBtn.addEventListener('click', function() {
                this.classList.toggle('active');
                alert(this.classList.contains('active') ? 
                    '循环播放已启用' : '循环播放已禁用');
            });
            
            // 初始化点读功能
            transcriptLines.forEach((line, index) => {
                line.dataset.index = index;
                line.addEventListener('click', function() {
                    if (pointReadEnabled) {
                        currentLineIndex = index;
                        highlightCurrentLine();
                        speakCurrentLine();
                    }
                });
            });
        });
    </script>
</body>
</html>
